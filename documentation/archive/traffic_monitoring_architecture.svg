<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#2563eb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="sensorGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#059669;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#047857;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="processingGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#dc2626;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#b91c1c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="storageGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6d28d9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="webGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ea580c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c2410c;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Title -->
  <rect x="0" y="0" width="1200" height="60" fill="url(#headerGrad)"/>
  <text x="600" y="35" text-anchor="middle" fill="white" font-size="24" font-weight="bold">Traffic Monitoring System - Data Flow Architecture</text>
  
  <!-- Layer 1: Physical Sensors -->
  <rect x="50" y="80" width="1100" height="120" fill="#ecfdf5" stroke="#10b981" stroke-width="2" rx="10"/>
  <text x="70" y="105" fill="#047857" font-size="16" font-weight="bold">Layer 1: Physical Sensors & Hardware</text>
  
  <!-- AI Camera -->
  <rect x="80" y="120" width="140" height="60" fill="url(#sensorGrad)" rx="5"/>
  <text x="150" y="140" text-anchor="middle" fill="white" font-size="12" font-weight="bold">AI Camera</text>
  <text x="150" y="155" text-anchor="middle" fill="white" font-size="10">Sony IMX500</text>
  <text x="150" y="168" text-anchor="middle" fill="white" font-size="10">12MP/1080p</text>
  
  <!-- Doppler Radar -->
  <rect x="250" y="120" width="140" height="60" fill="url(#sensorGrad)" rx="5"/>
  <text x="320" y="140" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Doppler Radar</text>
  <text x="320" y="155" text-anchor="middle" fill="white" font-size="10">OPS243-C FMCW</text>
  <text x="320" y="168" text-anchor="middle" fill="white" font-size="10">24.125 GHz</text>
  
  <!-- Raspberry Pi 5 -->
  <rect x="420" y="120" width="200" height="60" fill="#1f2937" rx="5"/>
  <text x="520" y="140" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Raspberry Pi 5</text>
  <text x="520" y="155" text-anchor="middle" fill="white" font-size="10">ARM Cortex-A76 | 16GB RAM</text>
  <text x="520" y="168" text-anchor="middle" fill="white" font-size="10">VideoCore VII GPU</text>
  
  <!-- Environmental Housing -->
  <rect x="650" y="120" width="140" height="60" fill="#6b7280" rx="5"/>
  <text x="720" y="140" text-anchor="middle" fill="white" font-size="12" font-weight="bold">IP65 Housing</text>
  <text x="720" y="155" text-anchor="middle" fill="white" font-size="10">Weather Proof</text>
  <text x="720" y="168" text-anchor="middle" fill="white" font-size="10">PoE/UPS Power</text>
  
  <!-- Power & Connectivity -->
  <rect x="820" y="120" width="140" height="60" fill="#374151" rx="5"/>
  <text x="890" y="140" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Connectivity</text>
  <text x="890" y="155" text-anchor="middle" fill="white" font-size="10">Gigabit Ethernet</text>
  <text x="890" y="168" text-anchor="middle" fill="white" font-size="10">WiFi/4G Backup</text>
  
  <!-- Arrows from sensors to Pi -->
  <path d="M 150 180 L 150 220 L 480 220 L 480 190" stroke="#059669" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 320 180 L 320 210 L 480 210 L 480 190" stroke="#059669" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Layer 2: Data Processing -->
  <rect x="50" y="240" width="1100" height="150" fill="#fef2f2" stroke="#ef4444" stroke-width="2" rx="10"/>
  <text x="70" y="265" fill="#dc2626" font-size="16" font-weight="bold">Layer 2: Real-time Data Processing & AI Analysis</text>
  
  <!-- Computer Vision -->
  <rect x="80" y="280" width="160" height="80" fill="url(#processingGrad)" rx="5"/>
  <text x="160" y="300" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Computer Vision</text>
  <text x="160" y="315" text-anchor="middle" fill="white" font-size="10">OpenCV 4.11</text>
  <text x="160" y="328" text-anchor="middle" fill="white" font-size="10">TensorFlow 2.19</text>
  <text x="160" y="341" text-anchor="middle" fill="white" font-size="10">YOLOv8 Detection</text>
  <text x="160" y="354" text-anchor="middle" fill="white" font-size="10">Object Tracking</text>
  
  <!-- Signal Processing -->
  <rect x="260" y="280" width="160" height="80" fill="url(#processingGrad)" rx="5"/>
  <text x="340" y="300" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Signal Processing</text>
  <text x="340" y="315" text-anchor="middle" fill="white" font-size="10">NumPy/SciPy</text>
  <text x="340" y="328" text-anchor="middle" fill="white" font-size="10">FFT Analysis</text>
  <text x="340" y="341" text-anchor="middle" fill="white" font-size="10">Speed Calculation</text>
  <text x="340" y="354" text-anchor="middle" fill="white" font-size="10">Kalman Filtering</text>
  
  <!-- Data Fusion -->
  <rect x="440" y="280" width="160" height="80" fill="url(#processingGrad)" rx="5"/>
  <text x="520" y="300" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Data Fusion</text>
  <text x="520" y="315" text-anchor="middle" fill="white" font-size="10">Multi-sensor Merge</text>
  <text x="520" y="328" text-anchor="middle" fill="white" font-size="10">Track Association</text>
  <text x="520" y="341" text-anchor="middle" fill="white" font-size="10">Validation Logic</text>
  <text x="520" y="354" text-anchor="middle" fill="white" font-size="10">Event Generation</text>
  
  <!-- Analytics Engine -->
  <rect x="620" y="280" width="160" height="80" fill="url(#processingGrad)" rx="5"/>
  <text x="700" y="300" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Analytics Engine</text>
  <text x="700" y="315" text-anchor="middle" fill="white" font-size="10">Pandas/Scikit</text>
  <text x="700" y="328" text-anchor="middle" fill="white" font-size="10">Traffic Metrics</text>
  <text x="700" y="341" text-anchor="middle" fill="white" font-size="10">Speed Analysis</text>
  <text x="700" y="354" text-anchor="middle" fill="white" font-size="10">Anomaly Detection</text>
  
  <!-- Weather Integration -->
  <rect x="800" y="280" width="160" height="80" fill="url(#processingGrad)" rx="5"/>
  <text x="880" y="300" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Weather API</text>
  <text x="880" y="315" text-anchor="middle" fill="white" font-size="10">OpenWeatherMap</text>
  <text x="880" y="328" text-anchor="middle" fill="white" font-size="10">Condition Correlation</text>
  <text x="880" y="341" text-anchor="middle" fill="white" font-size="10">Environmental Data</text>
  <text x="880" y="354" text-anchor="middle" fill="white" font-size="10">API Integration</text>
  
  <!-- Processing flow arrows -->
  <path d="M 240 320 L 260 320" stroke="#dc2626" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 420 320 L 440 320" stroke="#dc2626" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 600 320 L 620 320" stroke="#dc2626" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 780 320 L 800 320" stroke="#dc2626" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Layer 3: Data Storage -->
  <rect x="50" y="420" width="1100" height="120" fill="#faf5ff" stroke="#8b5cf6" stroke-width="2" rx="10"/>
  <text x="70" y="445" fill="#7c3aed" font-size="16" font-weight="bold">Layer 3: Data Storage & Management</text>
  
  <!-- SQLite -->
  <rect x="120" y="460" width="140" height="60" fill="url(#storageGrad)" rx="5"/>
  <text x="190" y="480" text-anchor="middle" fill="white" font-size="12" font-weight="bold">SQLite DB</text>
  <text x="190" y="495" text-anchor="middle" fill="white" font-size="10">Local Storage</text>
  <text x="190" y="508" text-anchor="middle" fill="white" font-size="10">Event Records</text>
  
  <!-- HDF5 -->
  <rect x="280" y="460" width="140" height="60" fill="url(#storageGrad)" rx="5"/>
  <text x="350" y="480" text-anchor="middle" fill="white" font-size="12" font-weight="bold">HDF5 Files</text>
  <text x="350" y="495" text-anchor="middle" fill="white" font-size="10">Time Series</text>
  <text x="350" y="508" text-anchor="middle" fill="white" font-size="10">High Performance</text>
  
  <!-- File System -->
  <rect x="440" y="460" width="140" height="60" fill="url(#storageGrad)" rx="5"/>
  <text x="510" y="480" text-anchor="middle" fill="white" font-size="12" font-weight="bold">File System</text>
  <text x="510" y="495" text-anchor="middle" fill="white" font-size="10">CSV/JSON</text>
  <text x="510" y="508" text-anchor="middle" fill="white" font-size="10">Config & Logs</text>
  
  <!-- External Storage -->
  <rect x="600" y="460" width="140" height="60" fill="url(#storageGrad)" rx="5"/>
  <text x="670" y="480" text-anchor="middle" fill="white" font-size="12" font-weight="bold">External SSD</text>
  <text x="670" y="495" text-anchor="middle" fill="white" font-size="10">Samsung T7 2TB</text>
  <text x="670" y="508" text-anchor="middle" fill="white" font-size="10">Archive Storage</text>
  
  <!-- Cloud Storage (Optional) -->
  <rect x="760" y="460" width="140" height="60" fill="url(#storageGrad)" rx="5"/>
  <text x="830" y="480" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Cloud Storage</text>
  <text x="830" y="495" text-anchor="middle" fill="white" font-size="10">AWS/Azure</text>
  <text x="830" y="508" text-anchor="middle" fill="white" font-size="10">Backup/Archive</text>
  
  <!-- Storage arrows -->
  <path d="M 520 360 L 520 400 L 190 400 L 190 460" stroke="#7c3aed" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 520 400 L 350 400 L 350 460" stroke="#7c3aed" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 520 400 L 510 400 L 510 460" stroke="#7c3aed" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 520 400 L 670 400 L 670 460" stroke="#7c3aed" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Layer 4: Web Interface -->
  <rect x="50" y="570" width="1100" height="120" fill="#fff7ed" stroke="#f97316" stroke-width="2" rx="10"/>
  <text x="70" y="595" fill="#ea580c" font-size="16" font-weight="bold">Layer 4: Web Interface & User Access</text>
  
  <!-- Flask App -->
  <rect x="120" y="610" width="140" height="60" fill="url(#webGrad)" rx="5"/>
  <text x="190" y="630" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Flask Server</text>
  <text x="190" y="645" text-anchor="middle" fill="white" font-size="10">Python Web App</text>
  <text x="190" y="658" text-anchor="middle" fill="white" font-size="10">REST API</text>
  
  <!-- WebSocket -->
  <rect x="280" y="610" width="140" height="60" fill="url(#webGrad)" rx="5"/>
  <text x="350" y="630" text-anchor="middle" fill="white" font-size="12" font-weight="bold">SocketIO</text>
  <text x="350" y="645" text-anchor="middle" fill="white" font-size="10">Real-time Updates</text>
  <text x="350" y="658" text-anchor="middle" fill="white" font-size="10">Live Dashboard</text>
  
  <!-- Web Dashboard -->
  <rect x="440" y="610" width="140" height="60" fill="url(#webGrad)" rx="5"/>
  <text x="510" y="630" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Web Dashboard</text>
  <text x="510" y="645" text-anchor="middle" fill="white" font-size="10">HTML/CSS/JS</text>
  <text x="510" y="658" text-anchor="middle" fill="white" font-size="10">Charts & Graphs</text>
  
  <!-- API Endpoints -->
  <rect x="600" y="610" width="140" height="60" fill="url(#webGrad)" rx="5"/>
  <text x="670" y="630" text-anchor="middle" fill="white" font-size="12" font-weight="bold">API Endpoints</text>
  <text x="670" y="645" text-anchor="middle" fill="white" font-size="10">Data Export</text>
  <text x="670" y="658" text-anchor="middle" fill="white" font-size="10">Integration</text>
  
  <!-- Mobile/External -->
  <rect x="760" y="610" width="140" height="60" fill="url(#webGrad)" rx="5"/>
  <text x="830" y="630" text-anchor="middle" fill="white" font-size="12" font-weight="bold">External Access</text>
  <text x="830" y="645" text-anchor="middle" fill="white" font-size="10">Mobile Apps</text>
  <text x="830" y="658" text-anchor="middle" fill="white" font-size="10">Third-party APIs</text>
  
  <!-- Web layer arrows -->
  <path d="M 190 520 L 190 610" stroke="#ea580c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 260 640 L 280 640" stroke="#ea580c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 420 640 L 440 640" stroke="#ea580c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 580 640 L 600 640" stroke="#ea580c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 740 640 L 760 640" stroke="#ea580c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- End Users -->
  <ellipse cx="200" cy="750" rx="80" ry="25" fill="#4f46e5"/>
  <text x="200" y="755" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Traffic Manager</text>
  
  <ellipse cx="400" cy="750" rx="80" ry="25" fill="#4f46e5"/>
  <text x="400" y="755" text-anchor="middle" fill="white" font-size="12" font-weight="bold">City Planner</text>
  
  <ellipse cx="600" cy="750" rx="80" ry="25" fill="#4f46e5"/>
  <text x="600" y="755" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Law Enforcement</text>
  
  <ellipse cx="800" cy="750" rx="80" ry="25" fill="#4f46e5"/>
  <text x="800" y="755" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Researcher</text>
  
  <!-- User access arrows -->
  <path d="M 510 670 L 510 700 L 200 700 L 200 725" stroke="#4f46e5" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 510 700 L 400 700 L 400 725" stroke="#4f46e5" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 510 700 L 600 700 L 600 725" stroke="#4f46e5" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 510 700 L 800 700 L 800 725" stroke="#4f46e5" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Data flow labels -->
  <text x="400" y="240" text-anchor="middle" fill="#059669" font-size="11" font-weight="bold">Raw Sensor Data</text>
  <text x="600" y="420" text-anchor="middle" fill="#dc2626" font-size="11" font-weight="bold">Processed Analytics</text>
  <text x="400" y="570" text-anchor="middle" fill="#7c3aed" font-size="11" font-weight="bold">Stored Data</text>
  <text x="600" y="720" text-anchor="middle" fill="#ea580c" font-size="11" font-weight="bold">User Interface</text>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
  </defs>
  
  <!-- Main data flow path highlight -->
  <rect x="40" y="70" width="1120" height="630" fill="none" stroke="#1f2937" stroke-width="3" stroke-dasharray="10,5" rx="15" opacity="0.3"/>
  
</svg>