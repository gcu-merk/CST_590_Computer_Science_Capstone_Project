<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CST 590 Traffic Monitoring System - Capstone Project</title>
    <meta name="description" content="Real-time traffic monitoring system using AI cameras and radar sensors for Oklahoma City. CST 590 Computer Science Capstone Project.">
    <meta name="keywords" content="traffic monitoring, AI, computer vision, radar sensors, Raspberry Pi, real-time analytics">
    <meta name="author" content="Grand Canyon University CST 590 Capstone">
    
    <!-- Open Graph metadata for social sharing -->
    <meta property="og:title" content="CST 590 Traffic Monitoring System">
    <meta property="og:description" content="Real-time traffic monitoring system using AI cameras and radar sensors">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://gcu-merk.github.io/CST_590_Computer_Science_Capstone_Project/">
    
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ÔøΩ</text></svg>">
</head>
<body>
    <!-- Header Section -->
    <div class="header">
        <div class="header-content">
            <div class="header-left">
                <div class="logo">ÔøΩ</div>
                <div class="header-text">
                    <h1>CST 590 Traffic Monitoring System</h1>
                    <p class="subtitle">Real-time AI-powered traffic analysis ‚Ä¢ GCU Capstone Project</p>
                </div>
            </div>
            <div class="header-right">
                <div class="location-selector">
                    <label for="location">Location:</label>
                    <select id="location">
                        <option value="oklahoma-city">Oklahoma City</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation Tabs -->
    <div class="nav-tabs">
        <button class="tab active" data-tab="overview">
            <span class="tab-icon">üìà</span>
            <span>Overview</span>
        </button>
        <button class="tab" data-tab="patterns">
            <span class="tab-icon">üïê</span>
            <span>Traffic Patterns</span>
        </button>
        <button class="tab" data-tab="safety">
            <span class="tab-icon">‚ö†Ô∏è</span>
            <span>Safety Analysis</span>
        </button>
        <button class="tab" data-tab="reports">
            <span class="tab-icon">üìã</span>
            <span>Reports</span>
        </button>
        <button class="tab" data-tab="alerts">
            <span class="tab-icon">üö®</span>
            <span>Alerts</span>
        </button>
        <button class="tab" data-tab="events">
            <span class="tab-icon">üì°</span>
            <span>Live Events</span>
        </button>
    </div>

    <!-- Overview Tab Content -->
    <div id="overview" class="tab-content active">
        <!-- Metric Cards -->
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-icon vehicles">üöó</div>
                <div class="metric-value" id="total-vehicles">12,847</div>
                <div class="metric-label">Total Vehicles (30 days)</div>
                <div class="metric-trend positive">‚Üë 15% vs last month</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-icon speed">üèÉ</div>
                <div class="metric-value" id="avg-speed">45.2</div>
                <div class="metric-label">Avg Speed (mph)</div>
                <div class="metric-trend positive">‚Üë 7% vs last month</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-icon violations">‚ö†Ô∏è</div>
                <div class="metric-value" id="speed-violations">127</div>
                <div class="metric-label">Speed Violations</div>
                <div class="metric-trend negative">‚Üë 8% vs last month</div>
            </div>
            
            <div class="metric-card weather-card">
                <div class="metric-icon weather">ÔøΩÔ∏è</div>
                <div class="weather-details">
                    <div class="weather-main">
                        <div class="metric-label">Current Weather</div>
                        <div class="weather-grid">
                            <div class="weather-item">
                                <span class="weather-source">üè¢ Airport Temperature</span>
                                <span class="weather-value" id="airport-temp">No Data</span>
                            </div>
                            <div class="weather-item">
                                <span class="weather-source">ÔøΩÔ∏è Local Temperature</span>
                                <span class="weather-value" id="local-temp">No Data</span>
                            </div>
                            <div class="weather-item">
                                <span class="weather-source">üíß Local Humidity</span>
                                <span class="weather-value" id="local-humidity">No Data</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
            <div class="chart-card large">
                <div class="chart-header">
                    <h3>üìà Traffic Volume Over Time</h3>
                    <div class="chart-controls">
                        <button class="time-filter active" data-period="24h">24H</button>
                        <button class="time-filter" data-period="7d">7D</button>
                        <button class="time-filter" data-period="30d">30D</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="traffic-volume-chart"></canvas>
                </div>
            </div>
            
            <div class="chart-card">
                <div class="chart-header">
                    <h3>‚ö° Speed Distribution</h3>
                </div>
                <div class="chart-container">
                    <canvas id="speed-distribution-chart"></canvas>
                </div>
            </div>
        </div>

        <!-- Additional Info Cards -->
        <div class="info-grid">
            <div class="info-card">
                <h3>üö® Recent Alerts</h3>
                <div class="alert-list">
                    <div class="alert-item high">
                        <span>Speed violation detected</span>
                        <span class="priority">High Priority</span>
                    </div>
                    <div class="alert-item medium">
                        <span>Heavy traffic volume</span>
                        <span class="priority">Medium</span>
                    </div>
                    <div class="alert-item low">
                        <span>Normal traffic flow</span>
                        <span class="priority">Low</span>
                    </div>
                </div>
            </div>
            
            <div class="info-card">
                <h3>‚è∞ Peak Hours Analysis</h3>
                <div class="peak-hours">
                    <div class="peak-item">
                        <span>Morning Rush (7-9 AM)</span>
                        <span class="value">2,847 vehicles</span>
                    </div>
                    <div class="peak-item">
                        <span>Evening Rush (5-7 PM)</span>
                        <span class="value">3,124 vehicles</span>
                    </div>
                    <div class="peak-item">
                        <span>Off-Peak Average</span>
                        <span class="value">892 vehicles</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Traffic Patterns Tab Content -->
    <div id="patterns" class="tab-content">
        <div class="patterns-section">
            <div class="chart-card large">
                <div class="chart-header">
                    <h3>üìä Weekly Traffic Patterns</h3>
                </div>
                <div class="chart-container">
                    <canvas id="weekly-patterns-chart"></canvas>
                </div>
            </div>
            
            <div class="info-card">
                <h3>üìÖ Daily Patterns</h3>
                <div class="daily-patterns">
                    <div class="pattern-item">
                        <span>Monday - Highest Volume</span>
                        <span class="value">4,230 vehicles</span>
                    </div>
                    <div class="pattern-item">
                        <span>Wednesday - Peak Speed</span>
                        <span class="value">48.7 mph avg</span>
                    </div>
                    <div class="pattern-item">
                        <span>Friday - Most Violations</span>
                        <span class="value">34 violations</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="not-implemented">
            <p>‚ö†Ô∏è <strong>Note:</strong> Advanced pattern analysis features are not yet implemented. This includes:</p>
            <ul>
                <li>Hourly traffic heat maps</li>
                <li>Day-of-week comparison charts</li>
                <li>Seasonal trend analysis</li>
                <li>Predictive traffic modeling</li>
            </ul>
        </div>
    </div>

    <!-- Safety Analysis Tab Content -->
    <div id="safety" class="tab-content">
        <div class="safety-metrics">
            <div class="metric-card">
                <div class="metric-icon violations">‚ö†Ô∏è</div>
                <div class="metric-value">127</div>
                <div class="metric-label">Speed Violations</div>
                <div class="metric-trend negative">‚Üë 8% this month</div>
            </div>
        </div>
        
        <div class="not-implemented">
            <p>‚ö†Ô∏è <strong>Note:</strong> Advanced safety analysis features are not yet implemented. This includes:</p>
            <ul>
                <li>Accident prediction models</li>
                <li>Real-time safety alerts</li>
                <li>Speed zone optimization</li>
                <li>Traffic calming effectiveness analysis</li>
            </ul>
        </div>
    </div>

    <!-- Reports Tab Content -->
    <div id="reports" class="tab-content">
        <div class="reports-section">
            <h3>üìã Available Reports</h3>
            <div class="reports-grid">
                <div class="report-item">
                    <span>Monthly Traffic Summary</span>
                    <button class="download-btn">Download PDF</button>
                </div>
                <div class="report-item">
                    <span>Speed Violation Report</span>
                    <button class="download-btn">Download CSV</button>
                </div>
            </div>
        </div>

        <div class="export-section">
            <h3>üì§ Export Data</h3>
            <div class="export-buttons">
                <button class="export-btn primary">Export PDF Report</button>
                <button class="export-btn primary">Export CSV Data</button>
                <button class="export-btn secondary">Export Excel</button>
            </div>
        </div>
        
        <div class="not-implemented">
            <p>‚ö†Ô∏è <strong>Note:</strong> Report generation features are not yet implemented. This includes:</p>
            <ul>
                <li>Automated PDF report generation</li>
                <li>CSV data export with filtering</li>
                <li>Scheduled report delivery</li>
                <li>Custom report templates</li>
            </ul>
        </div>
    </div>

    <!-- Alerts Tab Content -->
    <div id="alerts" class="tab-content">
        <div class="alerts-section">
            <h3>üö® Active Alerts</h3>
            <div class="alert-list">
                <div class="alert-item high">
                    <div class="alert-content">
                        <span class="alert-title">Speed Violation Detected</span>
                        <span class="alert-time">2 minutes ago</span>
                    </div>
                    <span class="priority">High Priority</span>
                </div>
                <div class="alert-item medium">
                    <div class="alert-content">
                        <span class="alert-title">Heavy Traffic Volume</span>
                        <span class="alert-time">15 minutes ago</span>
                    </div>
                    <span class="priority">Medium</span>
                </div>
                <div class="alert-item low">
                    <div class="alert-content">
                        <span class="alert-title">System Status Normal</span>
                        <span class="alert-time">1 hour ago</span>
                    </div>
                    <span class="priority">Low</span>
                </div>
            </div>
        </div>
        
        <div class="not-implemented">
            <p>‚ö†Ô∏è <strong>Note:</strong> Real-time alert features are not yet implemented. This includes:</p>
            <ul>
                <li>Real-time speed violation alerts</li>
                <li>Traffic congestion notifications</li>
                <li>System health monitoring</li>
                <li>Email/SMS alert delivery</li>
            </ul>
        </div>
    </div>

    <!-- Live Events Tab Content -->
    <div id="events" class="tab-content">
        <div class="events-header">
            <div class="events-title">
                <h3>üì° Real-time Vehicle Detection System</h3>
                <div class="events-subtitle" id="last-detection">Last detection: Connecting...</div>
            </div>
        </div>

        <div class="events-status-bar">
            <div class="events-stat">
                <div class="events-stat-value" id="total-detections">0</div>
                <div class="events-stat-label">Total Detections</div>
            </div>
            <div class="events-stat">
                <div class="events-stat-value" id="cars-count">0</div>
                <div class="events-stat-label">Cars</div>
            </div>
            <div class="events-stat">
                <div class="events-stat-value" id="trucks-count">0</div>
                <div class="events-stat-label">Trucks</div>
            </div>
            <div class="events-stat">
                <div class="events-stat-value" id="motorcycles-count">0</div>
                <div class="events-stat-label">Motorcycles</div>
            </div>
            <div class="events-stat">
                <div class="events-stat-value" id="avg-confidence">0%</div>
                <div class="events-stat-label">Avg Confidence</div>
            </div>
        </div>

        <div class="events-controls">
            <button id="auto-scroll" class="events-btn active">üìú Auto Scroll</button>
            <button id="clear-log" class="events-btn">üóëÔ∏è Clear Log</button>
            <button id="pause-detection" class="events-btn">‚è∏Ô∏è Pause</button>
            <input type="text" class="events-search-box" id="search" placeholder="üîç Search detections...">
        </div>

        <div class="events-detection-log">
            <div class="events-log-header">
                <div class="events-status-icon success"></div>
                <span>Real-time Vehicle Detection Log</span>
            </div>
            <div class="events-log-content" id="events-log-content">
                <div class="events-log-line">
                    <div class="events-line-number">1</div>
                    <div class="events-log-text">üöÄ Vehicle detection system initialized</div>
                </div>
                <div class="events-log-line">
                    <div class="events-line-number">2</div>
                    <div class="events-log-text">üìπ Camera feed connected</div>
                </div>
                <div class="events-log-line">
                    <div class="events-line-number">3</div>
                    <div class="events-log-text">ü§ñ AI model loaded successfully</div>
                </div>
                <div class="events-log-line">
                    <div class="events-line-number">4</div>
                    <div class="events-log-text">‚è≥ Waiting for vehicle detections...</div>
                </div>
            </div>
        </div>

        <div class="events-info">
            <p>üí° <strong>Live Events Dashboard:</strong> This real-time feed shows vehicle detections and system events as they happen. Data is streamed directly from the edge processing system.</p>
            <ul>
                <li>üöó Vehicle detections with confidence scores and locations</li>
                <li>üìä Real-time statistics and detection counts</li>
                <li>üîç Search and filter capabilities</li>
                <li>üì° WebSocket connection for instant updates</li>
            </ul>
        </div>
    </div>

    <!-- API Status Indicator -->
    <div class="api-status">
        <div id="api-indicator" class="status-indicator offline">
            <span class="status-dot"></span>
            <span class="status-text">API Offline</span>
        </div>
        <button id="connect-btn" class="connect-btn">Configure API</button>
    </div>

    <!-- API Configuration Modal -->
    <div id="api-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üîß API Configuration</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <label for="api-url">Tailscale Pi IP Address:</label>
                <input type="text" id="api-url" placeholder="https://edge-traffic-monitoring.taild46447.ts.net/api" value="https://edge-traffic-monitoring.taild46447.ts.net/api">
                <button id="test-connection">Test Connection</button>
                <div id="connection-status"></div>
            </div>
        </div>
    </div>

    <!-- Project Information Footer -->
    <footer class="project-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>üìö Project Documentation</h3>
                <ul class="footer-links">
                    <li><a href="https://github.com/gcu-merk/CST_590_Computer_Science_Capstone_Project" target="_blank" rel="noopener">GitHub Repository</a></li>
                    <li><a href="https://github.com/gcu-merk/CST_590_Computer_Science_Capstone_Project/blob/main/README.md" target="_blank" rel="noopener">Project Overview</a></li>
                    <li><a href="https://github.com/gcu-merk/CST_590_Computer_Science_Capstone_Project/tree/main/documentation/docs" target="_blank" rel="noopener">Technical Documentation</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>üõ†Ô∏è System Components</h3>
                <ul class="footer-links">
                    <li><a href="https://github.com/gcu-merk/CST_590_Computer_Science_Capstone_Project/blob/main/documentation/docs/Implementation_Deployment.md" target="_blank" rel="noopener">Implementation Guide</a></li>
                    <li><a href="https://github.com/gcu-merk/CST_590_Computer_Science_Capstone_Project/blob/main/documentation/docs/User_Guide.md" target="_blank" rel="noopener">User Guide</a></li>
                    <li><a href="https://github.com/gcu-merk/CST_590_Computer_Science_Capstone_Project/blob/main/API_ENDPOINTS_WITH_LINKS.html" target="_blank" rel="noopener">API Documentation</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>üéì Academic Project</h3>
                <p class="footer-info">
                    <strong>CST 590 Computer Science Capstone</strong><br>
                    Grand Canyon University<br>
                    Fall 2025
                </p>
                <p class="project-tech">
                    Built with: Raspberry Pi 5, IMX500 AI Camera, Radar Sensors, Python, Docker
                </p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Grand Canyon University CST 590 Capstone Project. This is an academic project for educational purposes.</p>
        </div>
    </footer>

    <!-- Socket.IO client for real-time WebSocket communication -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="app.js"></script>
</body>
</html>